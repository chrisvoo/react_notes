{"ast":null,"code":"import _defineProperty from \"/home/ccastelli/Documents/experiments/react_notes/sports_store/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"/home/ccastelli/Documents/experiments/react_notes/sports_store/src/shop/ShopConnector.jsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { Component } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport ActionCreators from '../data/ActionCreators';\nimport { DataTypes } from '../data/Types';\nimport Shop from './Shop';\nimport { addToCart, updateCartQuantity, removeFromCart, clearCart } from \"../data/CartActionCreators\";\n\nconst filterProducts = (products = [], category) => !category || category === 'All' ? products : products.filter(p => p.category.toLowerCase() === category.toLowerCase());\n\nconst ShopConnector = connect(dataStore => _objectSpread({}, dataStore), {\n  loadData: ActionCreators,\n  addToCart,\n  updateCartQuantity,\n  removeFromCart,\n  clearCart\n})(class extends Component {\n  componentDidMount() {\n    const loadData = this.props.loadData;\n    loadData(DataTypes.CATEGORIES);\n    loadData(DataTypes.PRODUCTS);\n  }\n\n  render() {\n    const products = this.props.products;\n    return React.createElement(Switch, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31\n      },\n      __self: this\n    }, React.createElement(Route, {\n      path: \"/shop/products/:category?\",\n      render: routeProps => React.createElement(Shop, Object.assign({}, this.props, routeProps, {\n        products: filterProducts(products, routeProps.match.params.category),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      })),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32\n      },\n      __self: this\n    }), React.createElement(Redirect, {\n      to: \"/shop/products\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }));\n  }\n\n});\nexport default ShopConnector;","map":{"version":3,"sources":["/home/ccastelli/Documents/experiments/react_notes/sports_store/src/shop/ShopConnector.jsx"],"names":["React","Component","Switch","Route","Redirect","connect","ActionCreators","DataTypes","Shop","addToCart","updateCartQuantity","removeFromCart","clearCart","filterProducts","products","category","filter","p","toLowerCase","ShopConnector","dataStore","loadData","componentDidMount","props","CATEGORIES","PRODUCTS","render","routeProps","match","params"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,KAAjB,EAAwBC,QAAxB,QAAwC,kBAAxC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,cAAP,MAA2B,wBAA3B;AACA,SAASC,SAAT,QAA0B,eAA1B;AACA,OAAOC,IAAP,MAAiB,QAAjB;AACA,SAASC,SAAT,EAAoBC,kBAApB,EAAwCC,cAAxC,EAAwDC,SAAxD,QAAyE,4BAAzE;;AAEA,MAAMC,cAAc,GAAG,CAACC,QAAQ,GAAG,EAAZ,EAAgBC,QAAhB,KAA+B,CAACA,QAAD,IAAaA,QAAQ,KAAK,KAA3B,GACjDD,QADiD,GAEjDA,QAAQ,CAACE,MAAT,CAAiBC,CAAD,IAAOA,CAAC,CAACF,QAAF,CAAWG,WAAX,OAA6BH,QAAQ,CAACG,WAAT,EAApD,CAFJ;;AAIA,MAAMC,aAAa,GAAGd,OAAO,CAAEe,SAAD,sBAAqBA,SAArB,CAAD,EAAoC;AAC/DC,EAAAA,QAAQ,EAAEf,cADqD;AAE/DG,EAAAA,SAF+D;AAG/DC,EAAAA,kBAH+D;AAI/DC,EAAAA,cAJ+D;AAK/DC,EAAAA;AAL+D,CAApC,CAAP,CAOpB,cAAcX,SAAd,CAAwB;AACtBqB,EAAAA,iBAAiB,GAAG;AAAA,UACVD,QADU,GACG,KAAKE,KADR,CACVF,QADU;AAElBA,IAAAA,QAAQ,CAACd,SAAS,CAACiB,UAAX,CAAR;AACAH,IAAAA,QAAQ,CAACd,SAAS,CAACkB,QAAX,CAAR;AACD;;AAEDC,EAAAA,MAAM,GAAG;AAAA,UACCZ,QADD,GACc,KAAKS,KADnB,CACCT,QADD;AAGP,WACE,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACE,oBAAC,KAAD;AACE,MAAA,IAAI,EAAC,2BADP;AAEE,MAAA,MAAM,EAAGa,UAAD,IACN,oBAAC,IAAD,oBACM,KAAKJ,KADX,EAEMI,UAFN;AAGE,QAAA,QAAQ,EAAEd,cAAc,CAACC,QAAD,EAAWa,UAAU,CAACC,KAAX,CAAiBC,MAAjB,CAAwBd,QAAnC,CAH1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAHJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,EAWE,oBAAC,QAAD;AAAU,MAAA,EAAE,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAXF,CADF;AAeD;;AAzBqB,CAPJ,CAAtB;AAoCA,eAAeI,aAAf","sourcesContent":["import React, { Component } from 'react';\nimport { Switch, Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport ActionCreators from '../data/ActionCreators';\nimport { DataTypes } from '../data/Types';\nimport Shop from './Shop';\nimport { addToCart, updateCartQuantity, removeFromCart, clearCart } from \"../data/CartActionCreators\";\n\nconst filterProducts = (products = [], category) => ((!category || category === 'All')\n  ? products\n  : products.filter((p) => p.category.toLowerCase() === category.toLowerCase()));\n\nconst ShopConnector = connect((dataStore) => ({ ...dataStore }), {\n  loadData: ActionCreators,\n  addToCart,\n  updateCartQuantity,\n  removeFromCart,\n  clearCart\n})(\n  class extends Component {\n    componentDidMount() {\n      const { loadData } = this.props;\n      loadData(DataTypes.CATEGORIES);\n      loadData(DataTypes.PRODUCTS);\n    }\n\n    render() {\n      const { products } = this.props;\n\n      return (\n        <Switch>\n          <Route\n            path=\"/shop/products/:category?\"\n            render={(routeProps) => (\n              <Shop\n                {...this.props}\n                {...routeProps}\n                products={filterProducts(products, routeProps.match.params.category)}\n              />\n            )}\n          />\n          <Redirect to=\"/shop/products\" />\n        </Switch>\n      );\n    }\n  },\n);\n\nexport default ShopConnector;\n"]},"metadata":{},"sourceType":"module"}