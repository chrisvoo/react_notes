{"ast":null,"code":"import React, { Component } from 'react';\nimport { DataTypes } from './Types';\nexport default class DataGetter extends Component {\n  constructor(...args) {\n    super(...args);\n\n    this.componentDidUpdate = () => this.getData();\n\n    this.componentDidMount = () => this.getData();\n\n    this.getData = () => {\n      const _this$props = this.props,\n            productParams = _this$props.products_params,\n            _this$props$pageSize = _this$props.pageSize,\n            pageSize = _this$props$pageSize === void 0 ? 5 : _this$props$pageSize,\n            _this$props$sortKey = _this$props.sortKey,\n            sortKey = _this$props$sortKey === void 0 ? 'name' : _this$props$sortKey,\n            params = _this$props.match.params,\n            loadData = _this$props.loadData;\n      const dsData = productParams || {};\n      const rtData = {\n        _limit: pageSize,\n        _sort: sortKey,\n        _page: params.page || 1,\n        category_like: (params.category || '') === 'all' ? '' : params.category\n      };\n\n      if (Object.keys(rtData).find(key => dsData[key] !== rtData[key])) {\n        loadData(DataTypes.PRODUCTS, rtData);\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, this.props.children);\n  }\n\n}","map":{"version":3,"sources":["/home/ccastelli/Documents/experiments/react_notes/sports_store/src/data/DataGetter.jsx"],"names":["React","Component","DataTypes","DataGetter","componentDidUpdate","getData","componentDidMount","props","productParams","products_params","pageSize","sortKey","params","match","loadData","dsData","rtData","_limit","_sort","_page","page","category_like","category","Object","keys","find","key","PRODUCTS","render","children"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,SAAT,QAA0B,SAA1B;AAEA,eAAe,MAAMC,UAAN,SAAyBF,SAAzB,CAAmC;AAAA;AAAA;;AAAA,SAC9CG,kBAD8C,GACzB,MAAM,KAAKC,OAAL,EADmB;;AAAA,SAG9CC,iBAH8C,GAG1B,MAAM,KAAKD,OAAL,EAHoB;;AAAA,SAK9CA,OAL8C,GAKpC,MAAM;AAAA,0BAOV,KAAKE,KAPK;AAAA,YAEKC,aAFL,eAEZC,eAFY;AAAA,+CAGZC,QAHY;AAAA,YAGZA,QAHY,qCAGD,CAHC;AAAA,8CAIZC,OAJY;AAAA,YAIZA,OAJY,oCAIF,MAJE;AAAA,YAKHC,MALG,eAKZC,KALY,CAKHD,MALG;AAAA,YAMZE,QANY,eAMZA,QANY;AAQd,YAAMC,MAAM,GAAGP,aAAa,IAAI,EAAhC;AACA,YAAMQ,MAAM,GAAG;AACbC,QAAAA,MAAM,EAAEP,QADK;AAEbQ,QAAAA,KAAK,EAAEP,OAFM;AAGbQ,QAAAA,KAAK,EAAEP,MAAM,CAACQ,IAAP,IAAe,CAHT;AAIbC,QAAAA,aAAa,EAAE,CAACT,MAAM,CAACU,QAAP,IAAmB,EAApB,MAA4B,KAA5B,GAAoC,EAApC,GAAyCV,MAAM,CAACU;AAJlD,OAAf;;AAOA,UAAIC,MAAM,CAACC,IAAP,CAAYR,MAAZ,EAAoBS,IAApB,CAA0BC,GAAD,IAASX,MAAM,CAACW,GAAD,CAAN,KAAgBV,MAAM,CAACU,GAAD,CAAxD,CAAJ,EAAoE;AAClEZ,QAAAA,QAAQ,CAACZ,SAAS,CAACyB,QAAX,EAAqBX,MAArB,CAAR;AACD;AACF,KAxB6C;AAAA;;AA0B9CY,EAAAA,MAAM,GAAG;AACP,WAAO,0CAAG,KAAKrB,KAAL,CAAWsB,QAAd,CAAP;AACD;;AA5B6C","sourcesContent":["import React, { Component } from 'react';\nimport { DataTypes } from './Types';\n\nexport default class DataGetter extends Component {\n    componentDidUpdate = () => this.getData();\n\n    componentDidMount = () => this.getData();\n\n    getData = () => {\n      const {\n        products_params: productParams,\n        pageSize = 5,\n        sortKey = 'name',\n        match: { params },\n        loadData,\n      } = this.props;\n      const dsData = productParams || {};\n      const rtData = {\n        _limit: pageSize,\n        _sort: sortKey,\n        _page: params.page || 1,\n        category_like: (params.category || '') === 'all' ? '' : params.category,\n      };\n\n      if (Object.keys(rtData).find((key) => dsData[key] !== rtData[key])) {\n        loadData(DataTypes.PRODUCTS, rtData);\n      }\n    }\n\n    render() {\n      return <>{this.props.children}</>;\n    }\n}\n"]},"metadata":{},"sourceType":"module"}